<% content_for :head do %>
<% end %>
<div class="users">
  <% content_for :header_title, PortalErrorCode.human_name %>
  <%= ui_highlight flash[:notice] unless flash[:notice].nil? %>
  <%#*<div class="control clearfix">%>
<%#*</div>%>
  <%
  sort_url = params.merge({:page => nil})
%>
  <div id="devices_grid">
    <% form_tag(url_for(:action => 'destroy'), :method=>:post ,:id =>'authfail-form') do%>
      <% ui_grid_for @grid do |g, cols, data| %>
        <% g.head do %>
          <% g.r do %>
            <%= g.format_sort(:error_code, :html => {:width => '25%'}, :url =>sort_url) %>
            <%= g.format_sort(:error_desc, :html => {:width => nil}, :url =>sort_url) %>
          <% end %>
        <% end %>
        <% g.body do %>
          <% if data.size >0 %>
            <% data.each do |d| %>
              <% g.r do %>
                <%=g.d d[:error_code] %>
                <%=g.d d[:error_desc] %>
              <% end %>
            <% end %>
          <% else %>
            <td colspan="<%= 2+cols.size %>">当前没有数据。</td>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  </div>
  <div style="margin-top:0.5em;" class="clearfix">
    <% if !@error_codes.nil? && @error_codes.length > 0 %>
      <div class="left f4">显示<%=@error_codes.total_entries %>个结果中的<%=@error_codes.current_page == @error_codes.page_count ? (@error_codes.total_entries - @error_codes.per_page * (@error_codes.page_count - 1)): @error_codes.per_page %>个</div>
      <%=will_paginate @error_codes%>
    <% end %>
  </div>
</div>
